import{c as r,o as i,a as e,H as L,n as G,u as Y,v as se,d as C,p as U,b as n,w as v,g as o,a4 as E,a5 as R,a6 as H,t,l as D,C as B,a0 as F,F as I,r as N,h as M,ab as X,a9 as W,a1 as Z,a7 as K,I as ae,q as oe,s as Q,D as ne,z as le,y as re,j as ie,e as J}from"./app-BYo0NqwC.js";import{u as de,N as me,_ as ue}from"./OrderDetailsPageHeader-C-wvkNuM.js";import{_ as ce}from"./OrderConfirmModal-C9m6NGHu.js";import{r as pe}from"./ExclamationTriangleIcon-Dk_mzD_W.js";import{r as fe}from"./HomeIcon-BoH95a48.js";function ye(l,b){return i(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const ge={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},he={class:"flex min-h-full items-center justify-center p-4 text-center sm:p-0"},ve={class:"bg-white p-5 sm:p-8 text-center"},xe={class:"text-slate-600 py-2 block text-md font-medium border-b"},be={class:"mt-3 flex flex-wrap gap-4 items-center justify-center"},_e={key:0,class:"flex items-center gap-4 border relative has-[:checked]:border-primary has-[:checked]:shadow-lg p-2 rounded-md border-slate-200 cursor-pointer grow max-w-40",title:"Cash on delivery"},we={class:"flex items-center"},$e={class:"text-slate-600 text-xl overflow-hidden whitespace-nowrap text-ellipsis"},ke=["for"],Pe=["id","value"],Ce={class:""},je=["src"],De={class:"mt-5 w-full grow flex justify-end border-t pt-2"},Oe={key:0},Se={key:1,type:"button",class:"px-4 py-3 md:py-4 bg-primary-300 rounded-lg text-primary text-base font-medium flex items-center gap-1",disabled:""},Ae={key:1},Me={key:1,type:"button",class:"px-4 py-3 md:py-4 bg-primary-300 rounded-lg text-primary text-base font-medium flex items-center gap-1",disabled:""},ze={__name:"OrderDetailsPaymentAndAgainOrder",props:{order:Object,againOrder:Boolean,makePayment:Boolean},emits:["update:makePayment","update:orderAgain","update:paymentSuccess"],setup(l,{emit:b}){const m=L(),O=G(),d=Y(),_=se(),c=l,p=C(!1),g=C(null),k=C(!1),f=C(!1),w=C(!1),j=b;U(()=>c.makePayment,()=>{c.makePayment===!0&&(p.value=!0)}),U(()=>c.againOrder,()=>{c.againOrder===!0&&(p.value=!0)}),U(()=>p.value,()=>{p.value===!1&&(j("update:makePayment",!1),j("update:orderAgain",!1))});const A=()=>{if(g.value==null){m.error("Please select payment method",{position:d.langDirection==="rtl"?"bottom-right":"bottom-left"});return}f.value=!0,axios.get("/order-payment/"+c.order.id+"/"+g.value,{headers:{Authorization:O.token}}).then(y=>{y.data.data.order_payment_url&&(j("update:makePayment",!1),p.value=!1,f.value=!1,w.value=!0,S(y.data.data.order_payment_url))}).catch(y=>{f.value=!1,m.error(y.response.data.message,{position:d.langDirection==="rtl"?"bottom-right":"bottom-left"})})},a={component:Z,props:{title:"Order Placed",message:"Your order has been placed successfully."}},s=()=>{if(g.value==null){m.error("Please select payment method",{position:d.langDirection==="rtl"?"bottom-right":"bottom-left"});return}k.value=!0,axios.post("/place-order/again",{order_id:c.order.id,payment_method:g.value},{headers:{Authorization:O.token}}).then(y=>{j("update:orderAgain",!1),j("update:makePayment",!1),k.value=!1,p.value=!1,m(a,{type:"default",hideProgressBar:!0,icon:!1,position:d.langDirection==="rtl"?"bottom-right":"bottom-left",toastClassName:"vue-toastification-alert",timeout:2e3});const h=y.data.data.order_payment_url;h&&S(h)}).catch(y=>{k.value=!1,p.value=!1,m.error(y.response.data.message,{position:d.langDirection==="rtl"?"bottom-right":"bottom-left"})})},u={component:Z,props:{title:"Payment Success!",message:"Your payment has been successfully completed."}},S=y=>{let h=700,P=700,z=screen.width/2-h/2,T=screen.height/2-P/2,V="popup,resizable,height="+P+",width="+h+",top="+T+",left="+z;var $=window.open(y,null,V);if($.title="Payment Window Screen - Make Payment",$.onload=()=>{$.title="Payment Window Screen - Make Payment"},$.focus(),$.closed){m.error("Payment Canceled",{position:d.langDirection==="rtl"?"bottom-right":"bottom-left"}),w.value=!1,router.push("/order-history");return}var x=setInterval(ee,1e3);function ee(){try{if($.closed||!$){clearInterval(x),$.close(),_.orderPaymentCancelModal=!0,m.error("Payment Canceled",{position:d.langDirection==="rtl"?"bottom-right":"bottom-left"}),w.value=!1,router.push("/order-history");return}var q=$.location.pathname.replace(/\/order\/\d+/,"");if(q=="/payment/cancel"){clearInterval(x),w.value=!1,setTimeout(()=>{$.close(),_.orderPaymentCancelModal=!0,m.error("Payment Canceled",{position:d.langDirection==="rtl"?"bottom-right":"bottom-left"}),router.push("/order-history")},8e3);return}if(q=="/payment/success"){if($.close(),clearInterval(x),m(u,{type:"default",hideProgressBar:!0,icon:!1,position:d.langDirection==="rtl"?"bottom-right":"bottom-left",toastClassName:"vue-toastification-alert",timeout:2e3}),w.value){w.value=!1,j("update:paymentSuccess",!0);return}router.push("/order-history");return}}catch{}}setTimeout(()=>{clearInterval(x),$.close(),w.value=!1,router.push("/order-history")},18e4)};return(y,h)=>(i(),r("div",null,[n(o(W),{as:"template",show:p.value},{default:v(()=>[n(o(E),{as:"div",class:"relative z-10",onClose:h[2]||(h[2]=P=>p.value=!1)},{default:v(()=>[n(o(R),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:v(()=>[...h[3]||(h[3]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])]),_:1}),e("div",ge,[e("div",he,[n(o(R),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:v(()=>[n(o(H),{class:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-xl"},{default:v(()=>[e("div",ve,[e("span",xe,t(y.$t("Available Payment Gateways")),1),e("div",be,[l.againOrder&&o(d).cashOnDelivery?(i(),r("label",_e,[B(e("input",{"onUpdate:modelValue":h[0]||(h[0]=P=>g.value=P),id:"cash",name:"paymentGateway",type:"radio",class:"sr-only",value:"cash"},null,512),[[F,g.value]]),e("div",we,[h[4]||(h[4]=e("img",{src:"/assets/icons/money-2.svg",alt:"",class:"w-12 h-16 object-contain"},null,-1)),e("span",$e,t(y.$t("Cash On Delivery")),1)])])):D("",!0),o(d).onlinePayment?(i(!0),r(I,{key:1},N(o(d).paymentGateways,P=>(i(),r("label",{key:P.id,for:P.name,class:"flex items-center gap-4 border relative has-[:checked]:border-primary has-[:checked]:shadow-lg p-2 rounded-md border-slate-200 cursor-pointer grow max-w-40"},[B(e("input",{"onUpdate:modelValue":h[1]||(h[1]=z=>g.value=z),id:P.name,name:"paymentGateway",type:"radio",class:"sr-only",value:P.name},null,8,Pe),[[F,g.value]]),e("div",Ce,[e("img",{src:P.logo,alt:"",class:"w-32 h-16 object-contain"},null,8,je)])],8,ke))),128)):D("",!0)]),e("div",De,[c.makePayment?(i(),r("div",Oe,[f.value?(i(),r("button",Se,[n(X),M(" "+t(y.$t("Processing"))+"... ",1)])):(i(),r("button",{key:0,class:"px-4 py-3 md:py-4 bg-primary rounded-lg text-white text-base font-medium",onClick:A},t(y.$t("Confirm Payment")),1))])):D("",!0),c.againOrder?(i(),r("div",Ae,[k.value?(i(),r("button",Me,[n(X),M(" "+t(y.$t("Processing"))+"... ",1)])):(i(),r("button",{key:0,class:"px-4 py-3 md:py-4 bg-primary rounded-lg text-white text-base font-medium",onClick:s},t(y.$t("Make Order Payment")),1))])):D("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),n(ce)]))}},Re={class:"bg-white rounded-lg md:rounded-2xl border border-slate-100 p-3 md:p-4 xl:p-6"},Ie={class:"flex justify-between items-center"},Te={class:"text-slate-950 text-lg md:text-xl font-medium my-2"},Ve={class:"text-slate-950 text-lg md:text-xl font-medium my-2"},Ue={class:"my-3 flex justify-between gap-4"},Be={class:"text-slate-950 text-sm sm:text-base font-normal"},Ne={class:"text-slate-950 text-sm sm:text-base font-normal"},Ge={class:"my-3 flex justify-between gap-4"},Le={class:"text-slate-950 text-sm sm:text-base font-normal"},Ye={class:"text-slate-950 text-sm sm:text-base font-normal"},Ee={class:"my-3 flex justify-between gap-4"},He={class:"text-red-500 text-sm sm:text-base font-normal"},We={class:"text-slate-950 text-sm sm:text-base font-normal"},qe={class:"my-3 flex justify-between gap-4"},Fe={class:"text-slate-950 text-sm sm:text-base font-normal"},Xe={class:"text-slate-950 text-sm sm:text-base font-normal"},Ze={key:0,class:"p-3 bg-slate-100 text-black rounded-lg mb-2"},Je={class:"text-sm sm:text-base font-medium mb-2"},Ke={class:"space-y-2"},Qe={class:"font-medium"},et={class:"font-medium"},tt={class:"mt-2 p-3 flex justify-between bg-slate-200 rounded-lg"},st={class:"text-sm sm:text-base font-medium"},at={class:"text-base font-bold"},ot={class:"my-3 flex justify-between gap-4"},nt={class:"text-slate-950 text-sm sm:text-base font-normal"},lt={class:"text-slate-950 text-base sm:text-lg tracking-tight"},rt={class:"bg-slate-50 rounded md:rounded-lg border border-slate-100 p-2 lg:p-4 mt-2 flex flex-col gap-1 lg:gap-2"},it={class:"text-slate-500 text-sm font-normal leading-tight"},dt={class:"text-slate-950 text-sm md:text-lg font-medium leading-tight flex items-center justify-between flex-wrap"},mt={key:0,class:"text-red-500 text-sm font-normal bg-red-100 p-1 rounded-md flex gap-1 items-center"},ut={key:1,class:"bg-emerald-500 text-sm font-normal text-white p-1 rounded-md flex items-center"},ct={class:"flex flex-wrap gap-2 mt-2 items-center justify-center"},pt={class:"text-center text-primary text-xs md:text-sm font-normal underline leading-tight"},ft={class:"text-center text-primary text-xs md:text-sm font-normal underline leading-tight"},yt={class:"flex items-center gap-2"},gt={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},ht={class:"flex min-h-full items-center justify-center p-4 text-center sm:p-0"},vt={class:"bg-white p-5 sm:p-8 text-center"},xt={class:"bg-red-500 w-14 h-14 md:w-20 md:h-20 rounded-full mx-auto flex justify-center items-center"},bt={class:"mt-3 text-center text-gray-900 text-2xl md:text-3xl font-bold"},_t={class:"mt-4 text-center text-slate-700 text-base md:text-xl font-normal"},wt={class:"flex justify-between items-center gap-4 mt-8"},$t={__name:"OrderDetailsSummery",props:{order:Object},emits:["update:paymentSuccess"],setup(l,{emit:b}){const m=Y(),O=L(),d=G(),_=C(!1),c=C(!1),p=C(!1);C(!1);const g=b,k=()=>{g("update:paymentSuccess",!0)},f=l,w=()=>{axios.post("/orders/cancel",{order_id:f.order.id},{headers:{Authorization:d.token}}).then(a=>{O.success(a.data.message,{position:m.langDirection==="rtl"?"bottom-right":"bottom-left"}),d.orderCancel=!0}),_.value=!1},j=()=>{f.order.invoice_url?window.open(f.order.invoice_url,"_blank"):O.error("Invoice not found",{position:m.langDirection==="rtl"?"bottom-right":"bottom-left"})},A=()=>{var a;(a=f.order)!=null&&a.payment_receipt_url?window.open(f.order.payment_receipt_url,"_blank"):O.error("Payment Slip not found",{position:m.langDirection==="rtl"?"bottom-right":"bottom-left"})};return(a,s)=>{var u,S,y,h,P,z,T,V,$;return i(),r("div",null,[e("div",Re,[e("div",Ie,[e("div",Te,t(a.$t("Order Id")),1),e("p",null,t(l.order.order_code),1)]),s[9]||(s[9]=e("div",{class:"w-full h-[0px] border border-slate-400"},null,-1)),e("div",Ve,t(a.$t("Order Summary")),1),e("div",Ue,[e("div",Be,t(a.$t("Items")),1),e("div",Ne,t(l.order.quantity),1)]),e("div",Ge,[e("div",Le,t(a.$t("Subtotal")),1),e("div",Ye,t(o(m).showCurrency((u=l.order)==null?void 0:u.total_amount)),1)]),e("div",Ee,[e("div",He,t(a.$t("Discount")),1),e("div",We," -"+t(o(m).showCurrency((S=l.order)==null?void 0:S.coupon_discount)),1)]),e("div",qe,[e("div",Fe,t(a.$t("Shipping Charge")),1),e("div",Xe,t(o(m).showCurrency((y=l.order)==null?void 0:y.delivery_charge)),1)]),((h=l.order.all_vat_taxes)==null?void 0:h.length)>0||((P=l.order)==null?void 0:P.tax_amount)>0?(i(),r("div",Ze,[e("h2",Je,t(a.$t("VAT & Taxes Summary")),1),e("div",Ke,[(i(!0),r(I,null,N(l.order.all_vat_taxes,x=>(i(),r("div",{key:x.id,class:"flex justify-between bg-slate-200 p-2 rounded-lg"},[e("span",Qe,[M(t(x.name)+" ",1),e("small",null,"("+t(x.percentage)+"%)",1)]),e("span",et,t(o(m).showCurrency(x.amount)),1)]))),128))]),e("div",tt,[e("h3",st,t(a.$t("Total Tax Amount"))+": ",1),e("p",at,t(o(m).showCurrency((z=l.order)==null?void 0:z.tax_amount)),1)])])):D("",!0),s[10]||(s[10]=e("div",{class:"w-full h-[0px] border border-slate-400"},null,-1)),e("div",ot,[e("div",nt,t(a.$t("Total Amount")),1),e("div",lt,t(o(m).showCurrency((T=l.order)==null?void 0:T.payable_amount)),1)]),e("div",rt,[e("div",it,t(a.$t("PAYMENT METHOD")),1),e("div",dt,[M(t(l.order.payment_method)+" ",1),l.order.payment_status==="Pending"?(i(),r("span",mt,[n(o(pe),{class:"w-5 h-5"}),M(" "+t(l.order.payment_status),1)])):D("",!0),l.order.payment_status==="Paid"?(i(),r("span",ut,[n(o(ye),{class:"w-5 h-5"}),M(" "+t(l.order.payment_status),1)])):D("",!0)])]),e("div",ct,[e("button",{class:"p-2 flex gap-1 lg:gap-2 items-center justify-center",onClick:A},[s[7]||(s[7]=e("img",{src:"/assets/icons/cloud.svg",alt:"download",class:"w-4 h-4 md:w-6 md:h-6"},null,-1)),e("span",pt,t(a.$t("Payment Slip")),1)]),e("button",{class:"p-2 flex gap-1 lg:gap-2 items-center justify-center",onClick:j},[s[8]||(s[8]=e("img",{src:"/assets/icons/cloud.svg",alt:"download",class:"w-4 h-4 md:w-6 md:h-6"},null,-1)),e("span",ft,t(a.$t("Download Invoice")),1)])])]),e("div",yt,[l.order.order_status==="Pending"?(i(),r("button",{key:0,class:"mt-5 px-4 py-3 md:py-4 bg-white rounded-lg text-slate-700 text-base font-medium grow",onClick:s[0]||(s[0]=x=>_.value=!0)},t(a.$t("Cancel Order")),1)):D("",!0),((V=f.order)==null?void 0:V.payment_status)=="Pending"&&(($=f.order)==null?void 0:$.payment_method)=="Online Payment"?(i(),r("button",{key:1,class:"mt-5 px-4 py-3 md:py-4 bg-primary rounded-lg text-white text-base font-medium grow",onClick:s[1]||(s[1]=x=>p.value=!0)},t(a.$t("Make Payment")),1)):D("",!0)]),l.order.order_status==="Delivered"?(i(),r("button",{key:0,class:"w-full mt-5 px-6 py-3 md:py-4 bg-primary rounded-lg text-white text-base font-medium",onClick:s[2]||(s[2]=x=>c.value=!0)},t(a.$t("Order Again")),1)):D("",!0),n(o(W),{as:"template",show:_.value},{default:v(()=>[n(o(E),{as:"div",class:"relative z-10",onClose:s[4]||(s[4]=x=>_.value=!1)},{default:v(()=>[n(o(R),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:v(()=>[...s[11]||(s[11]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])]),_:1}),e("div",gt,[e("div",ht,[n(o(R),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:v(()=>[n(o(H),{class:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:v(()=>[e("div",vt,[e("div",xt,[n(o(K),{class:"w-8 h-8 md:w-12 md:h-12 text-white"})]),e("div",bt,t(a.$t("Cancel the Order"))+"! ",1),e("div",_t,t(a.$t("Are you sure want to cancel this order"))+"? ",1),e("div",wt,[e("button",{class:"text-slate-800 grow text-base font-medium px-4 py-3 md:px-6 md:py-4 rounded-lg md:rounded-[10px] border border-slate-300",onClick:s[3]||(s[3]=x=>_.value=!1)},t(a.$t("Cancel")),1),e("button",{class:"text-white grow bg-red-500 text-base font-medium px-4 py-3 md:px-6 md:py-4 rounded-lg md:rounded-[10px]",onClick:w},t(a.$t("Yes")),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),n(ze,{order:l.order,makePayment:p.value,againOrder:c.value,"onUpdate:makePayment":s[5]||(s[5]=x=>p.value=!1),"onUpdate:orderAgain":s[6]||(s[6]=x=>c.value=!1),"onUpdate:paymentSuccess":k},null,8,["order","makePayment","againOrder"])])}}},kt={class:"space-y-2 divide-y divide-slate-200"},Pt={class:"w-[72px] h-[95px]"},Ct=["src"],jt={class:"flex flex-col gap-1 w-full relative"},Dt={class:"text-primary text-xs font-normal leading-none"},Ot={class:"flex justify-between items-center gap-2"},St={class:"text-slate-950 text-base font-normal leading-normal"},At=["onClick"],Mt={key:1,class:"flex items-center gap-0"},zt={class:"flex flex-wrap justify-between items-center gap-3"},Rt={class:"flex items-center gap-1"},It={class:"min-w-8 text-center px-2 py-1 bg-slate-100 rounded text-slate-800 text-xs font-normal"},Tt={class:"px-2 py-1 bg-slate-100 rounded text-slate-800 text-xs font-normal"},Vt={class:"text-slate-800 text-base font-normal leading-normal"},Ut={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},Bt={class:"flex min-h-full items-center justify-center p-4 text-center sm:p-0"},Nt={class:"bg-white p-5 sm:p-8 relative"},Gt={class:"text-xl font-semibold text-gray-800 mb-4"},Lt={class:"flex justify-center items-center gap-3 mb-4"},Yt={class:"text-gray-600 text-lg"},Et=["placeholder"],Ht={class:"flex justify-end space-x-3 mt-4"},Wt={__name:"OrderProducts",props:{order:Object,default:()=>{}},emits:["refresh"],setup(l,{emit:b}){const m=L(),O=G(),{truncate:d}=de(),_=l,c=b,p=Y(),g=C(0),k=C(""),f=C(!1),w=C(""),j=a=>{w.value=a,g.value=0,k.value="",f.value=!0},A=()=>{if(g.value==0)return m.error("Please select rating",{position:p.langDirection==="rtl"?"bottom-right":"bottom-left"}),!1;if(k.value=="")return m.error("Please enter message",{position:p.langDirection==="rtl"?"bottom-right":"bottom-left"}),!1;axios.post("/product-review",{rating:g.value,description:k.value,order_id:_.order.id,product_id:w.value},{headers:{Authorization:`${O.token}`}}).then(a=>{m.success(a.data.message,{position:p.langDirection==="rtl"?"bottom-right":"bottom-left"}),f.value=!1,c("refresh")}).catch(a=>{m.error(a.response.data.message,{position:p.langDirection==="rtl"?"bottom-right":"bottom-left"})})};return(a,s)=>(i(),r(I,null,[e("div",kt,[(i(!0),r(I,null,N(l.order.products,u=>(i(),r("div",{key:u.id,class:"flex gap-4 justify-start w-full items-center pt-1"},[e("div",Pt,[e("img",{src:u.thumbnail,class:"w-full h-full object-contain"},null,8,Ct)]),e("div",jt,[e("div",Dt,t(u.brand),1),e("div",Ot,[e("div",St,t(o(d)(u.name,50)),1),B(e("div",null,[u.rating?(i(),r("div",Mt,[(i(),r(I,null,N(5,S=>e("span",{key:S},[n(o(Q),{class:oe(["w-5 h-5",S<=u.rating?"text-amber-500":"text-slate-200"])},null,8,["class"])])),64))])):(i(),r("button",{key:0,class:"px-2 py-1 w-full sm:w-auto bg-amber-500 rounded-md md:rounded-lg text-white text-sm font-normal",onClick:S=>j(u.id)},t(a.$t("Review")),9,At))],512),[[ae,l.order.order_status==="Delivered"]])]),e("div",zt,[e("div",Rt,[e("div",It,t(u.size),1),e("div",Tt,t(u.color),1)]),e("div",Vt,t(u.order_qty)+" X "+t(o(p).showCurrency(u.discount_price>0?u.discount_price:u.price)),1)])])]))),128))]),n(o(W),{as:"template",show:f.value},{default:v(()=>[n(o(E),{as:"div",class:"relative z-10",onClose:s[5]||(s[5]=u=>f.value=!1)},{default:v(()=>[n(o(R),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:v(()=>[...s[6]||(s[6]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-50 transition-opacity"},null,-1)])]),_:1}),e("div",Ut,[e("div",Bt,[n(o(R),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:v(()=>[n(o(H),{class:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all my-8 md:my-0 w-full sm:max-w-lg md:max-w-xl"},{default:v(()=>[e("div",Nt,[e("div",{class:"w-9 h-9 bg-slate-100 rounded-[32px] absolute top-4 right-4 flex justify-center items-center cursor-pointer",onClick:s[0]||(s[0]=u=>f.value=!1)},[n(o(K),{class:"w-6 h-6 text-slate-600"})]),e("h2",Gt,t(a.$t("Rate Your Experience")),1),e("div",Lt,[n(o(me),{modelValue:g.value,"onUpdate:modelValue":s[1]||(s[1]=u=>g.value=u),"star-size":42,inactiveColor:"#cbd5e1"},null,8,["modelValue"]),e("div",Yt,[e("span",null,t(a.$t("Rating"))+":",1),M(" "+t(g.value),1)])]),e("div",null,[s[7]||(s[7]=e("label",{for:"description"},"Message",-1)),B(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=u=>k.value=u),class:"border border-gray-300 p-2 w-full rounded focus:border-primary outline-none",rows:"4",placeholder:a.$t("Enter your description")},null,8,Et),[[ne,k.value]])]),e("div",Ht,[e("button",{class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-3.5 px-4 rounded-lg focus:outline-none flex-grow",onClick:s[3]||(s[3]=u=>f.value=!1)},t(a.$t("Cancel")),1),e("button",{class:"bg-primary hover:bg-primary-600 text-white font-semibold py-3.5 px-4 rounded-lg focus:outline-none flex-grow",onClick:s[4]||(s[4]=u=>A())},t(a.$t("Submit")),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}},qt={class:"bg-white px-3 text-slate-600 flex items-center gap-1 pt-2"},Ft={class:"leading-normal"},Xt={key:0,class:"h-10 px-5 py-1 rounded outline outline-1 outline-offset-[-1px] outline-primary inline-flex justify-start items-center gap-2 text-primary text-base font-medium leading-normal transition-all duration-200 hover:bg-primary hover:text-white"},Zt={class:"px-2 pt-2 md:px-4 md:pt-4 lg:px-6 lg:pt-8"},Jt={class:"grid grid-cols-3 gap-4 md:gap-6 p-3 md:p-4 xl:p-8 bg-white rounded-lg md:rounded-2xl"},Kt={class:"col-span-3 lg:col-span-2 bg-white"},Qt={class:"rounded-xl md:rounded-2xl outline outline-1 outline-offset-[-1px] outline-slate-100 p-3 md:p-4 xl:p-6"},es={class:"text-slate-500 text-xs md:text-sm font-normal leading-tight md:leading-none"},ts={class:"flex items-center gap-4 mt-2"},ss=["src"],as={class:"flex flex-wrap gap-2 justify-between items-start grow"},os={class:"text-slate-950 text-sm md:text-base font-medium leading-tight md:leading-normal"},ns={class:"flex items-center gap-1"},ls={class:"text-slate-800 text-xs md:text-sm font-medium leading-tight"},rs={class:"text-slate-600 text-sm font-normal leading-tight"},is={class:"col-span-3 lg:col-span-1"},fs={__name:"OrderDetails",setup(l){const b=G(),m=le(),O=re(),d=C({});U(()=>b.orderCancel,()=>{b.orderCancel==!0&&_(),b.orderCancel=!1}),ie(()=>{_(),window.scrollTo(0,0,{behavior:"smooth"})});const _=async()=>{axios.get("/order-details",{params:{order_id:m.params.id},headers:{Authorization:b.token}}).then(c=>{d.value=c.data.data.order}).catch(c=>{c.response.status===401&&(b.token=null,b.user=null,b.addresses=[],b.favoriteProducts=0,O.push("/"))})};return(c,p)=>{var f,w,j,A;const g=J("router-link"),k=J("RouterLink");return i(),r("div",null,[e("div",qt,[n(o(fe),{class:"w-5 h-5 md:w-6 md:h-6"}),n(g,{to:"/order-history",class:"leading-normal hover:text-primary"},{default:v(()=>[M(t(c.$t("Order History")),1)]),_:1}),e("span",Ft,"/ "+t(c.$t("Order Details")),1)]),n(ue,{title:c.$t("Order Details")},{default:v(()=>[n(k,{to:"/return-product/"+d.value.id},{default:v(()=>[d.value.is_returnable?(i(),r("button",Xt," Return Product ")):D("",!0)]),_:1},8,["to"])]),_:1},8,["title"]),e("div",Zt,[e("div",Jt,[e("div",Kt,[e("div",Qt,[e("div",es,t(c.$t("Purchased from")),1),e("div",ts,[e("img",{class:"w-9 h-9 md:w-12 md:h-12",src:(f=d.value.shop)==null?void 0:f.logo},null,8,ss),e("div",as,[e("div",null,[e("div",os,t((w=d.value.shop)==null?void 0:w.name),1),e("div",ns,[n(o(Q),{class:"w-5 h-5 text-yellow-400"}),e("span",ls,t((j=d.value.shop)==null?void 0:j.rating),1)])])])]),p[0]||(p[0]=e("div",{class:"w-full h-[0px] border-t border-slate-200 my-4"},null,-1)),e("div",rs,t(c.$t("Products"))+" ("+t((A=d.value.products)==null?void 0:A.length)+") ",1),n(Wt,{order:d.value,onRefresh:_},null,8,["order"])])]),e("div",is,[n($t,{order:d.value,"onUpdate:paymentSuccess":_},null,8,["order"])])])])])}}};export{fs as default};
