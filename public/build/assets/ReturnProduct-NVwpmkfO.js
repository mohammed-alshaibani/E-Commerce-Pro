import{u as T,n as O,z as S,y as $,H as E,d as x,p as F,j as q,x as j,e as B,c as i,o as d,a as t,b as f,g,w as R,h,t as a,F as L,r as M,l as _,C as b,D as v}from"./app-BYo0NqwC.js";import{_ as U,u as H}from"./OrderDetailsPageHeader-C-wvkNuM.js";import{r as I}from"./HomeIcon-BoH95a48.js";const X="/build/assets/red-radio-checked-DFjAz66V.png",G="/build/assets/gray-radio-Cl-vRSle.png",J={class:"bg-white px-3 text-slate-600 flex items-center gap-1 pt-2"},K={class:"leading-normal"},Q={class:"px-2 pt-2 md:px-4 md:pt-4 lg:px-6 lg:pt-8 max-w-[1280px] mx-auto"},W={class:"grid grid-cols-1 lg:grid-cols-2 gap-2 xl:gap-4 md:gap-6 p-3 md:p-4 xl:p-8 bg-white rounded-lg md:rounded-2xl"},Y={class:"bg-white"},Z={class:"p-6 rounded-xl outline outline-1 outline-offset-[-1px] outline-slate-100"},ee={class:"self-stretch justify-start text-slate-600 text-sm font-normal leading-tight pb-3"},te={class:"space-y-3"},se=["onClick"],oe={class:"w-16 h-24"},ne=["src"],ae={class:"space-y-1 grow flex flex-col justify-between"},re={class:"self-stretch justify-start text-rose-500 text-xs font-normal leading-none"},le={class:"self-stretch justify-start text-slate-950 text-sm lg:text-base font-normal leading-normal"},ie={class:"flex flex-wrap justify-between items-center gap-3"},de={class:"flex items-center flex-wrap gap-1"},ue={key:0,class:"min-w-8 text-center px-2 py-1 bg-slate-100 rounded text-slate-800 text-[10px] md:text-xs font-normal"},ce={key:1,class:"px-2 py-1 bg-slate-100 rounded text-slate-800 text-[10px] md:text-xs font-normal"},me={class:"text-slate-800 text-base font-normal leading-normal"},pe={key:0,class:"w-0 self-stretch origin-top-left outline outline-1 outline-offset-[-0.50px] outline-slate-200"},xe={key:1},fe={key:0,class:"w-8 h-8 bg-primary-100 rounded-[50px] flex justify-center items-center"},_e={key:1,class:"w-8 h-8 bg-slate-100 rounded-[50px] flex justify-center items-center"},ge={class:"p-4 rounded-xl outline outline-1 outline-offset-[-1px] outline-slate-100 space-y-3"},he={class:"space-y-1 lg:space-y-3 flex flex-col w-full"},be={class:"text-red-500 text-xs mt-1"},ve={class:"space-y-1 lg:space-y-3 flex flex-col w-full"},ye={class:"text-red-500 text-xs mt-1"},we={class:"space-y-1 lg:space-y-3 flex flex-col w-full"},ke={for:"reason text-gray-900 text-sm md:text-base font-normal leading-tight md:leading-snug"},De={class:"text-red-500 text-xs"},je="/return-order",ze={__name:"ReturnProduct",setup(Re){const c=T(),r=O(),C=S(),y=$(),m=E(),{truncate:P}=H(),p=x({}),u=x([]),n=x({order_id:"",return_address:"",reason:"",bank_account_number:""}),l=x({order_id:"",return_address:"",reason:"",bank_account_number:""});F(()=>r.orderCancel,()=>{r.orderCancel==!0&&w(),r.orderCancel=!1}),q(()=>{w(),window.scrollTo(0,0,{behavior:"smooth"})});function V(o){return u.value.includes(o)}function A(o){o.is_returned?u.value.includes(o.id)?u.value=u.value.filter(e=>e!==o.id):u.value.push(o.id):m.error("Product is not returnable",{position:c.langDirection==="rtl"?"bottom-right":"bottom-left"})}const w=async()=>{j.get("/order-details",{params:{order_id:C.params.id},headers:{Authorization:r.token}}).then(o=>{p.value=o.data.data.order}).catch(o=>{o.response.status===401&&(r.token=null,r.user=null,r.addresses=[],r.favoriteProducts=0,y.push("/"))})},z=()=>{N(),n.value.order_id=p.value.id,console.log(n.value);const o=new FormData;if(o.append("order_id",n.value.order_id),o.append("return_address",n.value.return_address),o.append("reason",n.value.reason),o.append("bank_account_number",n.value.bank_account_number),u.value.length==0){m.error("Please select at least one product",{position:c.langDirection==="rtl"?"bottom-right":"bottom-left"});return}u.value.forEach(e=>{o.append("product_ids[]",e)}),j.post(je,o,{headers:{Authorization:r.token}}).then(e=>{console.log(e),m.success(e.data.message,{position:c.langDirection==="rtl"?"bottom-right":"bottom-left"}),y.push("/returned-order-history")}).catch(e=>{console.log(e.response.data.errors),m.error(e.response.data.message,{position:c.langDirection==="rtl"?"bottom-right":"bottom-left"}),l.value.bank_account_number=e.response.data.errors.bank_account_number?e.response.data.errors.bank_account_number[0]:"",l.value.return_address=e.response.data.errors.return_address?e.response.data.errors.return_address[0]:"",l.value.reason=e.response.data.errors.reason?e.response.data.errors.reason[0]:""})},N=()=>{l.value.bank_account_number="",l.value.return_address="",l.value.reason=""};return(o,e)=>{var D;const k=B("router-link");return d(),i("div",null,[t("div",J,[f(g(I),{class:"w-5 h-5 md:w-6 md:h-6"}),f(k,{to:"/order-history",class:"leading-normal hover:text-primary"},{default:R(()=>[h(a(o.$t("Order History")),1)]),_:1}),t("span",K,"/ "+a(o.$t("Order Details")),1)]),f(U,{title:o.$t("Return Product")},null,8,["title"]),t("div",Q,[t("div",W,[t("div",Y,[t("div",Z,[t("p",ee," Select Return Products ("+a((D=p.value.products)==null?void 0:D.length)+") ",1),t("div",te,[(d(!0),i(L,null,M(p.value.products,s=>(d(),i("div",{onClick:Ce=>A(s),key:s.id,class:"p-3 gap-4 flex justify-start items-center rounded-lg outline outline-1 outline-offset-[-1px] outline-slate-200 cursor-pointer"},[t("div",oe,[t("img",{src:s.thumbnail,class:"w-full h-full object-contain"},null,8,ne)]),t("div",ae,[t("p",re,a(s.brand),1),t("p",le,a(g(P)(s.name,50)),1),t("div",ie,[t("div",de,[s.sisdfze?(d(),i("div",ue,a(s.size),1)):_("",!0),s.color?(d(),i("div",ce,a(s.color),1)):_("",!0)]),t("div",me,a(s.order_qty)+" X "+a(g(c).showCurrency(s.discount_price>0?s.discount_price:s.price)),1)])]),s.is_returned?(d(),i("div",pe)):_("",!0),s.is_returned?(d(),i("div",xe,[V(s.id)?(d(),i("button",fe,[...e[3]||(e[3]=[t("img",{src:X,alt:"",class:"w-5 h-5"},null,-1)])])):(d(),i("button",_e,[...e[4]||(e[4]=[t("img",{src:G,alt:"",class:"w-5 h-5"},null,-1)])]))])):_("",!0)],8,se))),128))])])]),t("div",ge,[e[10]||(e[10]=t("p",{class:"text-zinc-800 text-base lg:text-lg font-medium leading-tight lg:leading-relaxed"}," Please fill out the form below to request a return or replacement. ",-1)),t("div",he,[e[5]||(e[5]=t("label",{for:"account-number text-gray-900 text-sm md:text-base font-normal leading-tight md:leading-snug"}," Account Number",-1)),t("div",null,[b(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>n.value.bank_account_number=s),id:"account-number",name:"account-number",class:"p-2 md:p-4 placeholder:text-neutral-400 rounded-lg md:rounded-xl outline outline-1 outline-offset-[-1.09px] outline-gray-300 w-full",placeholder:"Account No"},null,512),[[v,n.value.bank_account_number]]),t("p",be,a(l.value.bank_account_number),1)])]),t("div",ve,[e[6]||(e[6]=t("label",{for:"location text-gray-900 text-sm md:text-base font-normal leading-tight md:leading-snug"}," Collection Location",-1)),t("div",null,[b(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=s=>n.value.return_address=s),id:"location",name:"location",class:"p-2 md:p-4 placeholder:text-neutral-400 rounded-lg md:rounded-xl outline outline-1 outline-offset-[-1.09px] outline-gray-300 w-full",placeholder:"Location"},null,512),[[v,n.value.return_address]]),t("p",ye,a(l.value.return_address),1)])]),t("div",we,[t("label",ke,[e[8]||(e[8]=h(" Reason for Return ",-1)),f(k,{to:"/return-policy",class:"text-rose-600 text-xs font-normal leading-tight"},{default:R(()=>[...e[7]||(e[7]=[h(" (View Our Return Policy) ",-1)])]),_:1})]),t("div",null,[b(t("textarea",{type:"text","onUpdate:modelValue":e[2]||(e[2]=s=>n.value.reason=s),id:"reason",name:"reason",class:"p-2 md:p-4 placeholder:text-neutral-400 rounded-lg md:rounded-xl outline outline-1 outline-offset-[-1.09px] outline-gray-300 w-full",placeholder:"Reason",rows:"4"},null,512),[[v,n.value.reason]]),t("p",De,a(l.value.reason),1)])]),t("button",{onClick:z,class:"w-full h-10 md:h-14 md:px-6 md:py-4 bg-rose-500 rounded-[10px] inline-flex justify-center items-center gap-2.5"},[...e[9]||(e[9]=[t("div",{class:"flex justify-center items-center gap-1"},[t("div",{class:"justify-start text-white text-base font-medium font-['Roboto'] leading-normal"}," Submit ")],-1)])])])])])])}}};export{ze as default};
